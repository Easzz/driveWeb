<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>平台信息</title>
		<link rel="stylesheet" href="../lib/layui-v2.6.3/css/layui.css" media="all">
		<link rel="stylesheet" href="../css/public.css" media="all">
	</head>
	<body>

		<div class="layuimini-container">
			<div class="layuimini-main">
				<table class="layui-hide" id="currentTableId" lay-filter="currentTableFilter"></table>

			</div>
		</div>

		<script src="../lib/layui-v2.6.3/layui.js"></script>
		<script src="../js/jquery-3.5.1.min.js"></script>
		<script src="../js/common.js"></script>
		<script>


			layui.use(['form','table'], function() {
				var form = layui.form,
				table = layui.table;

				var header= [];
				var header1= [[{field: 'ccc', title: 'ccc', width: 140},{field: 'zzz', title: 'zzz', width: 140}]];
				var header2= [];

				$(function() {
					$.ajax({
						url: apiUrl+'/project/getDynamicHeader',
						type: 'get',
						dataType: 'json',
						success: function(res) {
							console.log(res.data[0])
							var header=[];

									for(var num = 0;num<res.data.length;num++){
							// var fieldObj = {
							// 	// field: res.data[num],
							// 	field: 'ccc'res.data[num],
							// 	title: 'ccc'
							// }
							// 	header.push(fieldObj);
								header.push({field: res.data[num], title: res.data[num] });
							}
							console.log(header)
							console.log(JSON.stringify(header))
							table.render({
								elem: '#currentTableId',
								url: apiUrl+'/project/getDynamicProject',
								toolbar: '#toolbarDemo',
								defaultToolbar: ['filter', 'exports', 'print', {
									title: '提示',
									layEvent: 'LAYTABLE_TIPS',
									icon: 'layui-icon-tips'
								}],
								// cols: [[
								// 	// {type: "checkbox", width: 50},
								// 	{field: 'id',  title: 'ID',width: '10%'},
								// 	{field: 'projectName',  title: '项目名'},
								// 	{field: 'terraceName',  title: '平台名'},
								// 	{field: 'gmtCreate',  title: '创建时间'}
								//
								// ]]
								cols:[header]

							});
						}

					})
				})


			});
		</script>
	</body>
</html>
